{{ define "main" }}
<section class="hero">
    <p class="hero-tagline">{{ .Site.Params.description }}</p>
</section>

<section>
    <h2 class="section-title">Najnowsze</h2>

    {{ $posts := where .Site.RegularPages "Type" "posts" }}
    {{ if $posts }}
    <div class="posts-grid">
        {{ range first 7 $posts }}
        <article class="post-card">
            {{ $post := . }}
            {{ with .Params.image }}
            {{ partial "image.html" (dict "src" . "alt" $post.Title "class" "post-card__image" "style" (printf "object-position: %s" ($post.Params.image_focus | default "50% 50%")) "sizes" "(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw") }}
            {{ end }}
            <time class="post-card__meta" datetime="{{ .Date.Format "2006-01-02" }}">
                {{ .Date.Format "2006-01-02" }}
            </time>
            <h3 class="post-card__title">
                <a href="{{ .Permalink }}">{{ .Title }}</a>
            </h3>
            <p class="post-card__excerpt">{{ .Summary | plainify | truncate 150 }}</p>
        </article>
        {{ end }}
    </div>
    {{ else }}
    <p class="no-posts">Brak artykułów.</p>
    {{ end }}
</section>
{{ end }}
